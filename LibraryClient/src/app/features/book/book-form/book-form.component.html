<app-navbar-librarian></app-navbar-librarian>

<div class="book-form-container">
    <h2>{{ isEdit ? 'Edit Book' : 'Add New Book' }}</h2>

    <form [formGroup]="bookForm" (ngSubmit)="onSubmit()">
        <div class="left-column">
            <!-- Các trường nhập liệu -->
            <div>
                <label for="name">Name</label>
                <input id="name" formControlName="name" type="text" />
            </div>
            <div>
                <label for="description">Description</label>
                <textarea id="description" formControlName="description"></textarea>
            </div>
            <div>
                <label for="yearPublished">Year Published</label>
                <input id="yearPublished" formControlName="yearPublished" type="text" />
            </div>
            <div>
                <label for="price">Price</label>
                <input id="price" formControlName="price" type="number" />
            </div>
            <div>
                <label for="quantity">Quantity</label>
                <input id="quantity" formControlName="quantity" type="number" />
            </div>
            <div>
                <label for="isAvailable">Is Available</label>
                <input id="isAvailable" formControlName="isAvailable" type="checkbox" />
            </div>
            <div>
                <label for="author">Author</label>
                <select id="author" formControlName="author">
                    <option *ngFor="let author of authors" [value]="author">{{ author }}</option>
                </select>
            </div>
            <div>
                <label for="category">Category</label>
                <select id="category" formControlName="category">
                    <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
                </select>
            </div>
        </div>

        <div class="right-column">
            <!-- Phần chọn ảnh -->
            <label for="image">Choose Image</label>
            <input type="file" id="image" (change)="onFileChange($event)" />

            <!-- Hiển thị ảnh đã chọn -->
            <img *ngIf="selectedImage" [src]="imagePreview" alt="Selected Image" />
        </div>

        <div class="form-actions">
            <button type="submit" [disabled]="bookForm.invalid">Save</button>
            <button type="button" (click)="onCancel()">Cancel</button>
        </div>
    </form>
</div>

<app-footer-librarian></app-footer-librarian>